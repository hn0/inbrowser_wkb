<!DOCTYPE html>
<html>
<head>
    <title>WKB poc showcase page</title>

    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/ol3/4.6.1/ol.css">
    <style type="text/css">
        body, #wrapper {
            width: 100%
        }
        #wrapper{
            margin: auto 10px;
        }
        .mapcontainer{
            width: 40%;
            height: 400px;
            text-align: center;
            float: left;
        }
        .map {
            width: 100%;
            height: 100%;
        }
        #results{
            clear: both;
        }
    </style>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/ol3/4.6.1/ol.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js"></script>
    <script type="text/javascript" src="js/mapctl.js"></script>

    <script type="text/javascript">
        var init = function(timeout) {

            // proj4 def should be automatized!

            if( !window.mapctl ){
                alert( 'something went wrong :( please refresh the page' );
                return;
            }

            // add necessary event listeners
            ['wkb', 'wkt'].forEach( function(type){
                var container = document.getElementById( 'map' + type );
                if( container ){
                    _.each( container.getElementsByTagName( 'input' ), 
                            function( inp ) {
                               inp.addEventListener( 'click', function() {
                                window.mapctl.show_map( container, type );
                               });
                            });
                }
            });
        }
        document.addEventListener('DOMContentLoaded', init);
    </script>

</head>
<body>

    <div id="wrapper">
    
        <div id="mapwkb" class="mapcontainer">
            <h2>WKB driven map</h2>
            <div class="map"></div>
            <input type="button" value="start ..." class="start" />
            <div class="timer"></div>
        </div>

        <div id="mapwkt" class="mapcontainer">
            <h2>WKT driven map</h2>
            <div class="map"></div>
            <input type="button" value="start ..." class="start" />
            <div class="timer"></div>
        </div>

        <div id="results">
            <h2>Results:</h2>
            <ul></ul>
            <input type="button" value="clear" />
        </div>

    </div>

</body>
</html>